
<div class="navigation-buttons mt-[-3rem] mx-36 md:mx-6 md:mt-6 flex justify-end gap-4 relative left- [rem] ">
  <button 
  type="button" 
  *ngIf="!isFirstStep" 
  (click)="goPrev()"  
  class=" border-2 border-[#727A90] w-[88px] h-[40px] rounded-[10px] text-[14px] hover:bg-gray-300">
  Previous
</button>

  <button 
  type="button" 
  *ngIf="!isLastStep" 
  (click)="goNext()" 
  class=" bg-gradient-to-b from-[#4393FF] to-[#5FA3FF] text-white w-[88px] h-[40px] rounded-[10px] text-[14px]">
  Next
</button>
</div>       



                          <!-- ADD MORE FIELDS -->
<div class="flex justify-end relative top-[80px] md:right-[4rem] ">
 <button
    type="button"
    (click)="addMore()"
    class="border-[1px] border-black text-black px-4 py-2 rounded-lg hover:bg-blue-700">
    + Add More
  </button> 
  </div>







<div class="mt-24 mx-20 md:mx-0">


  <!-- <div class="mt- flex justify-end col-span-3 relative left-[7rem] md:left-40 top-[-6rem] md:top-[2.3rem] ">
  <button
    type="button"
    *ngIf="!editMode"
    (click)="onEditToggle()"
    class="flex justify-center bg-blue- border border-[#727A90] text-[14px] text-[#727A90] w-[69.65px] h-[40px] py-2 rounded-[10px] hover:bg-gray-400 hover:text-white transition relative right-[7.8rem] lg:right-0"
  >
     <span class="material-symbols-outlined text-[20px]">edit</span>Edit
  </button>

 
  </div> -->

    <div class="mt-10">
        <p class="font-outfit font-bold text-[16px]">Family Details</p>
        <p class="font-outfit text-[#727A90] text-[12px]">Information for family-related benefit and records,</p>
    </div>



                   <!-- FAMILY FORM -->
               
<form #familyForm="ngForm" class="grid gap-x-10 bg-white rounded-lg mt-10">

  <!-- Row 1: 3  -->
  <div class="grid md:grid-cols-3 grid-cols-1">
    <div class="w- [6rem]">
    <label class="font-semibold text-[13px] font-outfit ">Spouse's Name</label>
    <input type="text" 
    name="spouseName" 
    (keypress)="allowOnlyLetters($event)"
    (ngModelChange)="onInputChange()"
    [(ngModel)]="formData.spouseName"  
    placeholder="Enter full name of spouse" 
    required
    #spouseName="ngModel"
    class="border-[1px] border-[#D7D7D7] md:w-[311px] w-[40rem] h-[45px] rounded-[7px] bg-[#F2F2F2] px-3 placeholder:text-[#888888] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" />
   
     <p *ngIf="spouseName.invalid && (spouseName.touched || spouseName.dirty)" class="text-red-600 text-sm">
      Spouse's name required
    </p>

       <div class="mt-8">
        <p class="font-semibold font-outfit text-[16px] w-[10rem]">Children Information</p>
        <p class="text-[#727A90] text-[12px] w-[42rem]">Base on the total number of children entered above, the same number of fields will appear below to enter each child's full... </p>
    </div>
    </div>

    
    <div class="w-[9rem] mt-6 md:mt-0 ">
    <label class="font-semibold text-[13px] font-outfit">Spouse's Phone Number</label>
    <input 
    type="tel"
    name="spousePhone" 
    (ngModelChange)="onInputChange()"
    (keypress)="allowOnlyDigits($event)"
    [(ngModel)]="formData.spousePhone" 
    #spousePhone="ngModel"
    required=""
    placeholder="Phone number" 
    class="border-[1px] border-[#D7D7D7] md:w-[311px] w-[40rem] h-[45px] rounded-[7px] bg-[#F2F2F2] px-3 placeholder:text-[#888888] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
    />

     <p *ngIf="spousePhone.invalid && (spousePhone.touched || spousePhone.dirty)" class="text-red-600 text-sm w-[20rem]">
        Spouse's phone number required
    </p>
    </div>

    <!-- <div> -->
    <div class="mt-6 md:mt-0">
    <label class="flex font-semibold mt-1 text-[13px] font-outfit">Spouse's Email</label>
    <input 
    type="text" 
    name="spouseEmail" 
    (ngModelChange)="onInputChange()"
    [(ngModel)]="formData.spouseEmail" 
    #spouseEmail="ngModel"
    required
    placeholder="Enter address" 
    class="border-[1px] border-[#D7D7D7] md:w-[311px] w-[40rem] h-[45px] rounded-[7px] bg-[#F2F2F2] px-3 placeholder:text-[#888888] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
    />

     <p *ngIf="spouseEmail.invalid && (spouseEmail.touched || spouseEmail.dirty)" class="text-red-600 text-sm">
        Spouse's email required
     </p>
    </div>

  </div>


  <!-- Row 2: Input 4 under Input 1 -->
   <!-- *ngIf="formData.children.length > 0" -->
   <div>
  <div  class="grid md:grid-cols-3 grid-cols-1 md:gap-6 mt-8">
    <div class="">
     <label class="flex font-semibold text-[13px] lg:w-[20rem] font-outfit">Number of Children</label>
    <input 
    type="text" 
    name="numberOfChildren" 
    (ngModelChange)="onInputChange()"
    [(ngModel)]="formData.numberOfChildren" 
    #numberOfChildren="ngModel" 
    required
    placeholder="Enter numbers(eg. 2)" 
    class="border-[1px] border-[#D7D7D7] md:w-[311px] w-[40rem] h-[45px] rounded-[7px] bg-[#F2F2F2] px-3 placeholder:text-[#888888] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
    />

     <p *ngIf="numberOfChildren.invalid && (numberOfChildren.touched || numberOfChildren.dirty)" class="text-red-600 text-sm">
         Number of children required
     </p>
    </div>
    <div></div>
    <div></div>
  </div>
  </div> 




  <!-- Hidden row  -->
  <div  *ngFor="let child of formData.children; let i = index" class="grid md:grid-cols-3 lg:gap-0 gap-10 md:mt-6">

    <div class="flex flex-col"> 
        <label class="font-semibold text-[13px] font-outfit">Child </label>
    <input 
    type="text" 
    name="fullName{{i}}" 
    (keypress)="allowOnlyLetters($event)"
    (ngModelChange)="onInputChange()"
    [(ngModel)]="child.fullName" 
    #fullName="ngModel"
    required 
    placeholder="Enter full name" 
    class="border-[1px] border-[#D7D7D7] md:w-[311px] w-[40rem] h-[45px] rounded-[7px] bg-[#F2F2F2] px-3 placeholder:text-[#888888] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
    />

     <p *ngIf="fullName.invalid && (fullName.touched || fullName.dirty)" class="text-red-600 text-sm">
        Full name required
     </p>



   <div class="mb-4 space-y-6 md:mt-8">
    
     <div>

    <div class="">
    <p class="font-bold font-outfit text-[16px]">Docs</p>
    <p class="text-[#727A90] text-[12px] font-outfit w-80">Upload a scanned copy of the spouse's marriagecertificate.</p>
    </div>


   <div class="mb- 10 mt- 10">
  <button 
  (click)="fileInput.click()" 
  class="text-sm border-2 rounded-lg w-[95px] h-[30px] my-1">
  Browse file
 </button>

  <input
    type="file"
     directory
    multiple
    (change)="onFileSelected($event)"
    #fileInput
    class="hidden"
  />
<!-- </div> -->





<!-- *ngIf="selectedFiles.length > 0" -->

  <div *ngIf="selectedFiles.length > 0"  class="mt-4 space-y-2">
  <div
    *ngFor="let file of selectedFiles; let i = index"
    class="flex items-center gap-4 border p-2 rounded-md justify-between lg:w-[1150px] "
  >
    <!-- File Icon and Info -->
    <div class="flex items-center gap-4 ">
      <!-- Icon -->
      <div>
        <ng-container [ngSwitch]="getFileType(file)">
          <i *ngSwitchCase="'image'" class="text-blue-500">🖼️</i>
          <i *ngSwitchCase="'pdf'" class="text-red-500">📄</i>
          <i *ngSwitchCase="'word'" class="text-indigo-500">📘</i>
          <i *ngSwitchCase="'excel'" class="text-green-500">📗</i>
          <i *ngSwitchCase="'text'" class="text-gray-500">📑</i>
          <i *ngSwitchDefault class="text-gray-600">📁</i>
        </ng-container>
      </div>

      <!-- File Info -->
      <div>
        <p class="text-sm font-medium">{{ file.name }}</p>
        <p class="text-xs text-gray-500">{{ formatSize(file.size) }}</p>
      </div>
    </div>

    <!-- Cancel Button -->
    <button
      (click)="removeFile(i)"
      class="border-2 border-[#858585] text-[#858585] hover:text-gray-700 text-[10px] bg-gray-300 rounded-full w-[20px] h-[20px] "
      title="Remove File"
    >
      ✖
    </button>
  </div>
</div>

</div>
 </div>


        <!-- REMOVE ADDED FIELD -->
    <button
    type="button"
    (click)="removeChild(i)"
    class="border border-red-500 bg-red-100 text-red-600 text-sm rounded-[4px] hover:text-red-800 mr-[20rem] mt-3 w-20">
    Remove
  </button>
    </div>
 </div>




    <div  class="flex flex-col md:mt-0">
    <label class="font-semibold text-[13px] font-outfit">Age</label>
    <input 
     type="text" 
     name="dob{{i}}" 
     (ngModelChange)="onInputChange()"
    [(ngModel)]="child.dob"
    #dob="ngModel"
    required
     placeholder="Enter age in years" 
     class="border-[1px] border-[#D7D7D7] md:w-[311px] w-[40rem] h-[45px] rounded-[7px] bg-[#F2F2F2] px-3 placeholder:text-[#888888] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
     />

      <p *ngIf="dob.invalid && (dob.touched || dob.dirty)" class="text-red-600 text-sm">
        Age required
     </p>
    </div>

    <div></div>
  
  </div>
  <!-- </div> -->


  <!-- </div> -->

</form>
</div>  








  <!-- Row 3: Input 5 -->
  <!-- <div  class="grid  md:grid-cols-3 lg:gap-0 gap-10 mt-8"> 
    <div class="flex flex-col">
     <label class="font-semibold text-[13px] font-outfit">Child </label>
    <input 
    type="text" 
    name="fullName0" 
    [(ngModel)]="formData.children[0].fullName"  
    placeholder="Enter full name" 
    class="border-[1px] border-[#D7D7D7] md:w-[311px] w-[40rem] h-[45px] rounded-[7px] bg-[#F2F2F2] px-3 placeholder:text-[#888888] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" />
    </div>

    <div  class="flex flex-col md:mt-0 ">
     <label class="font-semibold text-[13px] font-outfit">Age</label>
    <input 
     type="text" 
     name="dob0" 
     [(ngModel)]="formData.children[0].dob" 
     placeholder="Enter age in years" 
     class="border-[1px] border-[#D7D7D7] md:w-[311px] w-[40rem] h-[45px]  rounded-[7px] bg-[#F2F2F2] px-3 placeholder:text-[#888888] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/>
    </div> -->
    

    <!-- <div></div>
  </div> -->





             <!-- drag and drop -->
              
<!-- 
   <div class="mb-4 space-y-6 md:mt-8">
    
     <div>

    <div class="">
    <p class="font-bold font-outfit text-[16px]">Docs</p>
    <p class="text-[#727A90] text-[12px] font-outfit w-80">Upload a scanned copy of the spouse's marriagecertificate.</p>
    </div>

   <div class="mb-10 mt-10">

         <div
  class="border-2 border-dashed border-blue-400 w-[43rem] md:w-[1000px] h-[172px] p-6 rounded-md text-center cursor-pointer bg-[#F8FAFF]"
  (dragover)="onDragOver($event)"
  (dragleave)="onDragLeave($event)"
  (drop)="onDrop($event)"
  [ngClass]="{ 'bg-blue-50': isDragging }"
>
  <div class="flex justify-center">
  <img src="/upload.png" class="w-[42px] h-[42px] ">
  </div>
  <p class="text-gray-500 text-sm mt-2">Drag your file(s) and start uploading</p>

    <div class="flex items-center justify-center my-1">
  <div class="flex-gro w-20 h-px bg-gray-300"></div>
  <span class="px-4 text-gray-500 text-sm">OR</span>
  <div class="flex-gro w-20 h-px bg-gray-300"></div>
</div>

  <button 
  (click)="fileInput.click()" 
  class="text-sm border-2 rounded-lg w-[95px] h-[30px] my-1">
  Browse file
 </button>

  <input
    type="file"
     directory
    multiple
    (change)="onFileSelected($event)"
    #fileInput
    class="hidden"
  />
</div>





  <div *ngIf="selectedFiles.length > 0" class="mt-4 space-y-2">
  <div
    *ngFor="let file of selectedFiles; let i = index"
    class="flex items-center gap-4 border p-2 rounded-md justify-between lg:w-[1150px] "
  >
    File Icon and Info
    <div class="flex items-center gap-4 ">
      Icon
      <div>
        <ng-container [ngSwitch]="getFileType(file)">
          <i *ngSwitchCase="'image'" class="text-blue-500">🖼️</i>
          <i *ngSwitchCase="'pdf'" class="text-red-500">📄</i>
          <i *ngSwitchCase="'word'" class="text-indigo-500">📘</i>
          <i *ngSwitchCase="'excel'" class="text-green-500">📗</i>
          <i *ngSwitchCase="'text'" class="text-gray-500">📑</i>
          <i *ngSwitchDefault class="text-gray-600">📁</i>
        </ng-container>
      </div>

      File Info
      <div>
        <p class="text-sm font-medium">{{ file.name }}</p>
        <p class="text-xs text-gray-500">{{ formatSize(file.size) }}</p>
      </div>
    </div>

    Cancel Button
    <button
      (click)="removeFile(i)"
      class="border-2 border-[#858585] text-[#858585] hover:text-gray-700 text-[10px] bg-gray-300 rounded-full w-[20px] h-[20px] "
      title="Remove File"
    >
      ✖
    </button>
  </div>
</div>

</div>
 </div>
  </div> -->